@inject IStringLocalizer<Resource> Localizer

<MudGrid Class="mb-2">
    <MudItem xs="12" sm="6" md="3" Style="min-width:400px">
        <ErrorBoundary @ref="ErrorBoundarySensorCO2">
            <ChildContent>
                <SensorCO2 SensorName="Houilles"></SensorCO2>
            </ChildContent>
            <ErrorContent>
                <MudContainer Style="height:80px;" Class="d-flex align-center gap-2">
                    <MudText Typo="Typo.h6" Class="mr-4">Sensor CO2 @this.Localizer["HS"]</MudText>
                    <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Outlined.ErrorOutline" @onclick="ResetErrorSensorCO2" Color="Color.Warning">Reload</MudButton>
                </MudContainer>
            </ErrorContent>
        </ErrorBoundary>
    </MudItem>
    <MudItem xs="12" sm="6" md="3" Style="min-width:400px">
        <ErrorBoundary @ref="ErrorBoundaryAirPollution">
            <ChildContent>
                <AirPollution></AirPollution>
            </ChildContent>
            <ErrorContent>
                <MudContainer Style="height:80px;" Class="d-flex align-center gap-2">
                    <MudText Typo="Typo.h6" Class="mr-4">AirPollution @this.Localizer["HS"]</MudText>
                    <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Outlined.ErrorOutline" @onclick="ResetErrorAirPollution" Color="Color.Warning">Reload</MudButton>
                </MudContainer>
            </ErrorContent>
        </ErrorBoundary>
    </MudItem>
</MudGrid>

@code 
    {
    private ErrorBoundary? ErrorBoundaryAirPollution;
    private ErrorBoundary? ErrorBoundarySensorCO2;

    protected override void OnParametersSet()
    {
        ErrorBoundaryAirPollution?.Recover();
        ErrorBoundarySensorCO2?.Recover();
    }

    private void ResetErrorAirPollution()
    {
        ErrorBoundaryAirPollution?.Recover();
    }

    private void ResetErrorSensorCO2()
    {
        ErrorBoundarySensorCO2?.Recover();
    }
}
